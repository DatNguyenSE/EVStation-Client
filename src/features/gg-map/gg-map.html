<div class="flex flex-col items-center gap-6 p-6 bg-gray-50 rounded-xl shadow-inner">

  <!-- ğŸ§­ TiÃªu Ä‘á» -->
  <h2 class="text-2xl font-bold text-gray-800 text-center">
    ğŸ”Œ TÃ¬m Tráº¡m Sáº¡c Gáº§n Nháº¥t
  </h2>

  <!-- ğŸ“ NÃºt thao tÃ¡c -->
  <div class="flex gap-3 flex-wrap justify-center">
    <button
      (click)="locateMe()"
      class="bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition"
    >
       Vá»‹ trÃ­ cá»§a tÃ´i
    </button>

    <button
      (click)="routeToNearest()"
      class="bg-emerald-600 text-white px-4 py-2 rounded-lg shadow hover:bg-emerald-700 transition disabled:opacity-50"
      [disabled]="!nearest"
    >
      ğŸ§­ Chá»‰ Ä‘Æ°á»ng Ä‘áº¿n tráº¡m gáº§n nháº¥t
    </button>
  </div>

  <!-- ğŸ—ºï¸ Báº£n Ä‘á»“ -->
<div style="width: 100%; height: 550px; position: relative;">
  <div
    id="map"
    class="w-full h-full rounded-xl shadow-lg border border-gray-200 overflow-hidden"
  ></div>
</div>

  <!-- ğŸ“ ThÃ´ng tin tráº¡m gáº§n nháº¥t -->
  <div
    *ngIf="nearest"
    class="bg-white p-5 rounded-xl shadow-md border border-gray-100 text-center w-full max-w-md mt-6 transition-transform hover:scale-[1.01]"
  >
    <h3 class="text-lg font-semibold text-gray-800 mb-1">Tráº¡m gáº§n nháº¥t:</h3>
    <p class="text-blue-700 font-bold text-lg">{{ nearest?.name }}</p>
    <p class="text-gray-600">{{ nearest?.address }}</p>
    <p class="text-gray-500">
      â° {{ nearest?.openTime }} - {{ nearest?.closeTime }}
    </p>
    <p class="text-gray-700 mt-1">
      âš¡ {{ nearest?.posts?.length || 0 }} cá»•ng sáº¡c |
      ğŸš— {{ nearestDistance?.toFixed(2) }} km
    </p>
  </div>

  <!-- ğŸ”‹ Danh sÃ¡ch táº¥t cáº£ tráº¡m -->
  <div
    class="w-full max-w-5xl mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
  >
    <div
      *ngFor="let s of stations"
      class="bg-white border border-gray-100 rounded-xl p-5 shadow hover:shadow-lg hover:-translate-y-1 transition"
    >
      <h4 class="font-bold text-blue-800 text-lg mb-1">{{ s.name }}</h4>
      <p class="text-gray-600 text-sm mb-1">ğŸ“ {{ s.address }}</p>
      <p class="text-gray-500 text-sm mb-1">
        â° {{ s.openTime }} - {{ s.closeTime }}
      </p>
      <p class="text-gray-700 text-sm">
        âš¡ {{ s.posts?.length || 0 }} cá»•ng sáº¡c
      </p>

      <button
        (click)="nearest = s; routeToNearest()"
        class="mt-4 bg-blue-500 text-white w-full py-2 rounded-lg hover:bg-blue-600 transition"
      >
        ğŸ§­ Chá»‰ Ä‘Æ°á»ng tá»›i Ä‘Ã¢y
      </button>
    </div>
  </div>

  <!-- ğŸ“¡ Pháº£n há»“i tá»« backend -->
  <div
    *ngIf="lastResponse"
    class="mt-6 bg-gray-50 border rounded-lg p-4 text-sm text-gray-600 w-full max-w-md shadow-inner"
  >
    <strong class="block mb-1">ğŸ“¡ Pháº£n há»“i tá»« server:</strong>
    <pre class="whitespace-pre-wrap">{{ lastResponse | json }}</pre>
  </div>
</div>
