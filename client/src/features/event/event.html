<div class="max-w-5xl mx-auto px-4 py-8 min-h-screen text-base-content pt-24">
  <!-- Header -->
  <h2 class="text-2xl font-bold text-blue-700 mb-6 flex items-center gap-2">
    <i class="bi bi-calendar-check text-blue-600"></i>
    Lịch đặt chỗ của bạn
  </h2>

  <!-- Empty state -->
  <div *ngIf="!reservations()?.length" class="flex flex-col items-center justify-center py-20 text-center">
    <i class="bi bi-inbox text-4xl text-gray-400 mb-3"></i>
    <p class="text-base-content/60 text-lg">Hiện không có lịch đặt nào.</p>
  </div>

  <!-- Reservation list -->
  <ul class="space-y-5" *ngIf="reservations()?.length">
    <li
      *ngFor="let r of reservations()"
      class="bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all duration-200 p-5 relative"
    >
      <!-- Header -->
      <div class="flex justify-between items-start flex-wrap gap-2 mb-3">
        <div>
          <h3 class="text-lg font-semibold text-gray-800">Mã đặt chỗ #{{ r.id }}</h3>
          <p class="text-sm text-gray-500 mt-1">
            Xe: <span class="font-medium text-gray-700">{{ r.vehicleId }}</span> ·
            Trụ sạc: <span class="font-medium text-gray-700">{{ r.chargingPostId }}</span>
          </p>
        </div>

        <span
          class="px-3 py-1 rounded-full text-sm font-semibold"
          [ngClass]="{
            'bg-green-100 text-green-700': r.status === 'Confirmed',
            'bg-yellow-100 text-yellow-700': r.status === 'Pending',
            'bg-red-100 text-red-700': r.status === 'Cancelled'
          }"
        >
          {{ r.status }}
        </span>
      </div>

      <!-- Time info -->
      <div class="grid sm:grid-cols-2 gap-3 text-sm text-gray-600">
        <p>
          <span class="font-medium">Bắt đầu: </span>
          <span class="text-gray-800">{{ r.timeSlotStart | date: 'HH:mm:ss dd/MM/yyyy' }}</span>
        </p>
        <p>
          <span class="font-medium">Kết thúc: </span>
          <span class="text-gray-800">{{ r.timeSlotEnd | date: 'HH:mm:ss dd/MM/yyyy' }}</span>
        </p>
      </div>

      <!-- Divider -->
      <div class="border-t border-gray-200 my-4"></div>

      <!-- Footer -->
      <div class="flex justify-end gap-3 flex-wrap">
        <button class="btn btn-outline btn-sm">Xem chi tiết</button>
        <button
          class="btn btn-sm bg-red-600 hover:bg-red-700 text-white"
          (click)="cancelReservation(r.id)"
          [disabled]="r.status === 'Cancelled'"
        >
          {{ r.status === 'Cancelled' ? 'Đã hủy' : 'Hủy' }}
        </button>
      </div>

      <!-- Accent border -->
      <div
        class="absolute left-0 top-0 h-full w-1 rounded-l-2xl"
        [ngClass]="{
          'bg-green-500': r.status === 'Confirmed',
          'bg-yellow-500': r.status === 'Pending',
          'bg-red-500': r.status === 'Cancelled'
        }"
      ></div>
    </li>
  </ul>
</div>
