<div class="w-full min-h-screen max-w-5xl">
  <h2 class="text-2xl font-bold text-blue-700 mb-6 flex items-center gap-2">
    <i class="bi bi-receipt-cutoff text-blue-600"></i>
    Danh sÃ¡ch biÃªn lai
  </h2>

  <div *ngIf="isLoading" class="text-center text-gray-500 py-8">
    <i class="bi bi-arrow-repeat animate-spin text-blue-500 text-xl"></i>
    <p>Äang táº£i dá»¯ liá»‡u...</p>
  </div>

  <div *ngIf="!isLoading && receipts.length === 0" class="text-center text-gray-500 py-12">
    <i class="bi bi-inbox text-3xl mb-2"></i>
    <p>KhÃ´ng cÃ³ hÃ³a Ä‘Æ¡n nÃ o Ä‘á»ƒ hiá»ƒn thá»‹.</p>
  </div>

  <div *ngIf="!isLoading && receipts.length > 0" class="space-y-4">
    <div
      *ngFor="let r of receipts"
      class="bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-all p-5"
    >
      <div class="flex justify-between items-start mb-3">
        <div>
          <h3 class="text-lg font-semibold text-gray-800">{{ r.pricingName }}</h3>
          <p class="text-sm text-gray-500">MÃ£ hÃ³a Ä‘Æ¡n: #{{ r.id }}</p>
        </div>
        <span
          class="px-3 py-1 rounded-full text-sm font-semibold"
          [ngClass]="{
            'bg-green-100 text-green-700': r.status === 'Paid',
            'bg-red-100 text-red-700': r.status === 'Refunded',
            'bg-gray-100 text-gray-700': r.status === 'Pending'
          }"
        >
          {{ r.status }}
        </span>
      </div>

      <div class="grid sm:grid-cols-2 gap-3 text-sm text-gray-600">
        <p>ğŸ‘¤ NgÆ°á»i dÃ¹ng: <span class="text-gray-800 font-medium">{{ r.appUserName || 'N/A' }}</span></p>
        <p>ğŸ“… NgÃ y táº¡o: <span class="text-gray-800">{{ r.createAt | date: 'HH:mm:ss dd/MM/yyyy' }}</span></p>
        <p>ğŸ’³ Thanh toÃ¡n: <span class="text-gray-800">{{ r.paymentMethod || '---' }}</span></p>
        <p>ğŸ‘¨â€ğŸ’¼ XÃ¡c nháº­n: <span class="text-gray-800">{{ r.confirmedByStaffName || 'N/A' }}</span></p>
      </div>

      <hr class="my-4" />

      <div class="flex justify-between items-center">
        <span class="text-gray-700 font-medium">Tá»•ng thanh toÃ¡n</span>
        <span class="text-xl font-bold text-blue-700">{{ r.totalCost | number }} â‚«</span>
      </div>

      <div class="mt-4 text-right">
        <button
          class="btn btn-outline btn-sm text-blue-600 hover:bg-blue-600 hover:text-white"
          [routerLink]="['/bien-lai', r.id]"
        >
          Xem chi tiáº¿t
        </button>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div *ngIf="totalPages > 1" class="flex justify-center items-center mt-6 gap-2">
    <button
      class="btn btn-sm"
      [disabled]="currentPage === 1"
      (click)="prevPage()"
    >
      Â« TrÆ°á»›c
    </button>
    <span class="text-sm text-gray-700">
      Trang <strong>{{ currentPage }}</strong> / {{ totalPages }}
    </span>
    <button
      class="btn btn-sm"
      [disabled]="currentPage === totalPages"
      (click)="nextPage()"
    >
      Sau Â»
    </button>
  </div>
</div>
